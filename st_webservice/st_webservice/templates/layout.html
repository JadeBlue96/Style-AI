

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Style Transfer Web Service</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="" name="keywords">
    <meta content="" name="description">

    <!-- Favicons -->
    <link href="../static/img/favicon.png" rel="icon">
    <link href="../static/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">

    <!-- Material Design Bootstrap -->
    <link href="../static/css/mdb.min.css" rel="stylesheet">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700|Open+Sans:300,300i,400,400i,700,700i" rel="stylesheet">

    <!-- Bootstrap CSS File -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <!-- <link href="../static/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet"> -->
    <!-- Libraries CSS Files -->
    <link href="../static/lib/animate/animate.min.css" rel="stylesheet">
    <link href="../static/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="../static/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    <link href="../static/lib/magnific-popup/magnific-popup.css" rel="stylesheet">

    <!-- Main Stylesheet File -->
    <link href="../static/css/style.css" rel="stylesheet">

    <!-- =======================================================
      Theme Name: Avilon
      Theme URL: https://bootstrapmade.com/avilon-bootstrap-landing-page-template/
      Author: BootstrapMade.com
      License: https://bootstrapmade.com/license/
    ======================================================= -->
</head>

<body>

    <header id="header">
        <div class="container">

            <div id="logo" class="pull-left">
                <h1><a href="{{ url_for('main.home') }}" class="scrollto">Style AI</a></h1>
                <!-- Uncomment below if you prefer to use an image logo -->
                <!--<a href="/st_webservice/"><img src="../static/img/logo.png" alt="" title=""></a> -->
            </div>

            <nav id="nav-menu-container">
                <ul class="nav-menu">
                    {% if current_user.is_anonymous %}
                    <li class="menu-active"><a href="{{ url_for('main.home') }}">Home</a></li>
                    <li><a href="{{ url_for('auth.login') }}">Login</a></li>
                    <li><a href="{{ url_for('main.gallery') }}">Gallery</a></li>
                    <li><a href="{{ url_for('main.about') }}">About</a></li>
                    {% else %}
                    <li class="menu-active"><a href="{{ url_for('main.home') }}">Home</a></li>
                    <li><a href="{{ url_for('main.style', id=current_user.id) }}">Style</a></li>
                    <li><a href="{{ url_for('main.user_images', id=current_user.id) }}">Your Gallery</a></li>
                    <!--<li><a href="{{ url_for('main.gallery') }}">Gallery</a></li>-->
                    <li><a href="{{ url_for('main.about') }}">About</a></li>
                    <li><a href="{{ url_for('auth.logout') }}">Logout</a></li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </header>




    <main id="main">

        {% block index %}{% endblock %}
        {% block start %}{% endblock %}
        {% block about %}{% endblock %}
        {% block contact %}{% endblock %}
        {% block gallery %}{% endblock %}
        {% block style %}{% endblock %}
        {% block results %}{% endblock %}
        {% block login %}{% endblock %}
        {% block register %}{% endblock %}
        {% block user_images %}{% endblock %}
        {% block error_500 %}{% endblock %}
        {% block error_404 %}{% endblock %}



    </main>


    <!--==========================
      Footer
    ============================-->
    <footer id="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-6 text-lg-left text-center">
                    <div class="copyright">
                        &copy; Copyright <strong>Avilon</strong>. All Rights Reserved
                    </div>
                    <div class="credits">
                        Designed by <a href="https://bootstrapmade.com/">BootstrapMade</a>
                    </div>
                </div>
                <div class="col-lg-6">
                    <nav class="footer-links text-lg-right text-center pt-2 pt-lg-0">
                        <a href="{{ url_for('main.home') }}" class="scrollto">Home</a>
                        <a href="{{ url_for('main.gallery') }}" class="scrollto">Gallery</a>
                        <a href="{{ url_for('main.about') }}" class="scrollto">About</a>
                    </nav>
                </div>
            </div>
        </div>
    </footer><!-- #footer -->


    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>

    <!-- JavaScript Libraries -->
    <script src="../static/lib/jquery/jquery.min.js"></script>
    <script src="../static/lib/jquery/jquery-migrate.min.js"></script>
    <script src="../static/lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../static/lib/easing/easing.min.js"></script>
    <script src="../static/lib/wow/wow.min.js"></script>
    <script src="../static/lib/superfish/hoverIntent.js"></script>
    <script src="../static/lib/superfish/superfish.min.js"></script>
    <script src="../static/lib/magnific-popup/magnific-popup.min.js"></script>


    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="../static/js/popper.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="../static/js/mdb.min.js"></script>

    <!-- Contact Form JavaScript File -->
    <script src="../static/contactform/contactform.js"></script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- Template Main Javascript File -->
    <script src="../static/js/main.js"></script>

    <!-- Custom scripts -->
    <script src="../static/js/download.js"></script>

    <script type="text/javascript">
        $('#load').text('Generate');
        $('#load').attr('enabled', 'enabled');
        $('#gif').css('visibility', 'invisible');
        $('.err-mes').text('');
        $('#style-status').hide();

        $(document).ready(function () {
            $(document).on('change', '.btn-file :file', function () {
                var input = $(this),
                    label = input.val().replace(/\\/g, '/').replace(/.*\//, '');
                input.trigger('fileselect', [label]);
            });

            $('.btn-file :file').on('fileselect', function (event, label) {

                var input = $(this).parents('.input-group').find(':text'),
                    log = label;

                if (input.length) {
                    input.val(log);
                } else {
                    if (log) alert(log);
                }

            });
            function readContentURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#img-upload-content').attr('src', e.target.result);
                    }

                    reader.readAsDataURL(input.files[0]);
                }
            }

            function readStyleURL(input) {
                if (input.files && input.files[0]) {
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#img-upload-style').attr('src', e.target.result);
                    }

                    reader.readAsDataURL(input.files[0]);
                }
            }

            $("#imgInpContent").change(function () {
                var ext = $('#imgInpContent').val().split('.').pop().toLowerCase();
                if ($.inArray(ext, ['gif', 'png', 'jpg', 'jpeg']) == -1) {
                    $('#val_message_cont').text('Invalid extension!');
                }
                else {
                    readContentURL(this);
                    $('#val_message_cont').text('');
                }
            });

            $("#imgInpStyle").change(function () {
                var ext = $('#imgInpStyle').val().split('.').pop().toLowerCase();
                if ($.inArray(ext, ['gif', 'png', 'jpg', 'jpeg']) == -1) {
                    $('#val_message_style').text('Invalid extension!');
                }
                else {
                    readStyleURL(this);
                    $('#val_message_style').text('');
                }
            });

            $("#upload-form").submit(function () {
                if ($('#val_message_style').text() == "" && $('#val_message_text').text() == "") {
                    $('#load').text('Generating image..');
                    $('#load').attr('disabled', 'disabled');
                    $('#gif').css('visibility', 'visible');
                    $('.err-mes').text('');
                    $('#style-status').show();

                    return true;
                }
                return false;
            });

            $('#export_btn').click(function () {
                var src = $('#result').attr('src');
                var tarr = src.split('/');
                var file = tarr[tarr.length - 1];
                var data = file.split('.')[0];
                var link = document.createElement('a');
                link.setAttribute('href', src);
                if ($('#jpg_rad').is(':checked')) {
                    link.setAttribute('download', data + ".jpg");
                }
                else if ($('#png_rad').is(':checked')) {
                    link.setAttribute('download', data + ".png");
                }
                else if ($('#bmp_rad').is(':checked')) {
                    link.setAttribute('download', data + ".bmp");
                }
                else {
                    $('.exp-mes').text('Please select a format.');
                    return;
                }

                link.setAttribute('target', '_blank');
                link.style.display = 'none';
                document.body.appendChild(link);
                link.click();
                document.body.removeChild(link);
            });

            $('#btn-delete').click (function () {
                prompt_result = confirm('Are you sure you want to delete this image from storage?');
                return prompt_result;
            });

            $('#btn-signup').click(function () {
                window.location = "register";
            });   

            $('#btn-resetpwd').click(function () {
                $('.reset_message').text('Sending email..');
            });

            

            $('#facebook-btn').click(function () {
                window.location = "https://229fcf89.ngrok.io/authorize/facebook";
            });

            $('.twitter-btn').click(function () {
                window.location = "https://229fcf89.ngrok.io/authorize/google";
            });

            $('.github-btn').click(function () {
                window.location = "http://651423a1.ngrok.io/authorize/github";
            });

        });
    </script>
</body>


</html>