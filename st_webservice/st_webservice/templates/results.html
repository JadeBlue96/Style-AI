{% extends "layout.html" %}

{% block results %}

<section id="about">
    <div class="container-fluid">
        <div class="section-header">
            <h3 class="section-title">Style AI Results</h3>
            <span class="section-divider"></span>
            <p class="section-description">
                The following image was successfully generated.
            </p>
        </div>
        <div class="row">
            <div class="col-lg-3">
                <div class="container text-center">
                    <div class="row">
                        <div class="container text-center">
                            <label>Content Image</label>
                        </div>
                    </div>
                    <img src={{session['content_path']}} alt="content" style="height: auto; width: 100%">

                </div>
            </div>
            <div class="col-lg-6">
                <div class="container text-center">
                    <div class="row">
                        <div class="container text-center">
                            <label>Generated Image</label>
                        </div>
                    </div>
                    <img id="result" src={{session['result_path']}} style="height: auto; width: 100%" alt="result">

                </div>
            </div>
            <div class="col-lg-3">
                <div class="container text-center">
                    <div class="row">
                        <div class="container text-center">
                            <label>Style Image</label>
                        </div>
                    </div>
                    <img src={{session['style_path']}} alt="style" style="height: auto; width: 100%">
                </div>
            </div>
        </div>

        <div class="row" style="margin-top:20px;">
            <div class="container text-center">
                <form>
                    <h3 class="section-title">Export your result</h3>

                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" class="custom-control-input" id="jpg_rad" name="export" value="customEx">
                        <label class="custom-control-label" for="jpg_rad">JPG</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" class="custom-control-input" id="png_rad" name="export" value="customEx">
                        <label class="custom-control-label" for="png_rad">PNG</label>
                    </div>
                    <div class="custom-control custom-radio custom-control-inline">
                        <input type="radio" class="custom-control-input" id="bmp_rad" name="export" value="customEx">
                        <label class="custom-control-label" for="bmp_rad">BMP</label>
                    </div>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="input-group-btn col-lg-12 text-center">
                <span class="btn btn-default btn-file" id="export_btn">
                    Export
                </span>
            </div>
        </div>

        <div class="row">
            <div class="container text-center">
                <h4 class="exp-mes" style="margin: 20px auto; color:darkorange">{{message}}</h4>
            </div>
        </div>


    </div>



</section><!-- #about -->


<section id="about">
    <div class="container-fluid">
        <div class="section-header">
            <h3 class="section-title">Model statistics</h3>
            <span class="section-divider"></span>
            <p class="section-description">
                Information about the input parameters and model performance.
            </p>
        </div>
        <div class="row">
            <div class="table-responsive col-lg-6">
                <table class="table">
                    <thead class="text-center">
                        <tr>
                            <th scope="col"><b>Input parameters</b></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">Model name:</th>
                            <td class="text-center">{{session['model_name']}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Iterations:</th>
                            <td class="text-center">{{session['num_iterations']}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Content weight:</th>
                            <td class="text-center">{{session['content_weight']}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Style weight:</th>
                            <td class="text-center">{{session['style_weight']}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Learning rate:</th>
                            <td class="text-center">{{session['lr']}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Beta:</th>
                            <td class="text-center">{{session['beta1']}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Epsilon:</th>
                            <td class="text-center">{{session['epsilon']}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="table-responsive col-lg-6">
                <table class="table">
                    <thead class="text-center">
                        <tr>
                            <th scope="col"><b>Model performance</b></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th scope="row">Total time:</th>
                            <td class="text-center">{{session['total_time']}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Total loss:</th>
                            <td class="text-center">{{session['total_loss'][1:-1]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Style loss:</th>
                            <td class="text-center">{{session['style_loss'][1:-1]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Content loss:</th>
                            <td class="text-center">{{session['content_loss'][1:-1]}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Generated image width:</th>
                            <td class="text-center">{{session['gen_image_width']}}</td>
                        </tr>
                        <tr>
                            <th scope="row">Generated image height:</th>
                            <td class="text-center">{{session['gen_image_height']}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-6">
                <div class="container text-center">
                    <div class="row">
                        <div class="container text-center">
                            <label><b>Model learning curve</b></label>
                        </div>
                    </div>
                    <img id="loss" src={{session['loss_path']}} style="height: auto; width: 100%" alt="result">

                </div>
            </div>
            <div class="col-lg-6">
                <div class="container text-center">
                    <div class="row">
                        <div class="container text-center">
                            <label><b>Execution time</b></label>
                        </div>
                    </div>
                    <img id="execution" src={{session['exec_path']}} style="height: auto; width: 100%" alt="result">

                </div>
            </div>
        </div>

    </div>



</section><!-- #about -->

<section id="call-to-action">
    <div class="container">
        <div class="row">
            <div class="col-lg-9 text-center text-lg-left">
                <h3 class="cta-title">Create more images</h3>
            </div>
            <div class="col-lg-3 cta-btn-container text-center">
                <a class="cta-btn align-middle" href="{{ url_for('main.style', id=current_user.id) }}">Generate again</a>
            </div>
        </div>

    </div>
</section>
{% endblock %}